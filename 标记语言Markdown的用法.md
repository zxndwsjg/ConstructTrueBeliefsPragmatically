# Markdown

## 概述

Markdown是轻量的标记语言，它使我们可以用纯文本写文档，然后将其转换成结构化的XHTML或HTML文档。它具有易读易写的特点。它还有另外两个重要的特点：

1. 兼容HTML：HTML的区块标签可以在Markdown中的任意位置使用，但是在HTML区块标签间的Markdown格式语法将不会被处理。
2. 特殊字符自动转换：<和&是HTML文件中的特殊字符，<符号用于起始标签，&符号用于标记HTML实体，若想要显示这些字符的原型，则必须要使用实体的形式，分别为`&lt;`和`&amp;`。在Markdown中特殊字符<和&会被自动转换，若想将<与&作为HTML语法的一部分使用，它们会保留原状，否则它们会被转换成相应的实体形式。在代码区域内，不论是行内还是区块，<和&都一定会被转换成HTML实体。

## 区块元素

### 标题

Markdown支持两种标题的语法。

1. 用底线的形式：利用=（最高阶标题）和-（第二阶标题），任何数量的=和-效果相同。
2. 在行首插入1到6个#，对应到标题1到6阶。可以选择性地闭合这种样式的标题，即在行尾加上#，而行尾的#数量也不用和开头一样（行首的井字符数量决定标题的阶数）。

### 段落和换行

Markdown段落是由连续的文本行组成，其前后要有一个或以上的空行（空行的定义是只有空白字符的行）。普通段落不该用空格或制表符来缩进。Markdown允许段落内插入换行符强迫换行，而不是把每个换行符都转成`<br />`标签。如果确实想要依赖Markdown来插入`<br />`标签，在插入处先按入两个以上的空格然后回车。Markdown中多段落的列表使用换行来排版。

### 区块引用

Markdown标记区块引用是在整个段落的第一行最前面加上>，也可以先断好行，然后在每行的最前面加上>。区块引用可以嵌套，即引用内的引用，只要根据层次加上不同数量的>。引用的区块内也可以使用其他的Markdown语法，包括标题、列表、代码区块等。

### 列表

Markdown支持有序列表和无序列表。

#### 无序列表

无序列表使用星号、加号或是减号作为列表标记。

#### 有序列表

有序列表则使用数字接着一个英文句点。在列表标记上使用的数字并不会影响输出的HTML结果。可以让Markdown文件的列表数字和输出的结果相同。不管怎样使用数字，建议第一个项目最好还是从1.开始，因为Markdown未来可能会支持有序列表的start属性。

#### 列表的注意事项

1. 列表项目标记通常是放在最左边，也可以缩进，最多3个空格，项目标记后面一定要接着至少一个空格或制表符。为了美观，可以把内容用固定的缩进整理好。
2. 如果列表项目间用空行分开，在输出HTML时Markdown就会将项目内容用`<p>`标签包起来。
3. 列表项目可以包含多个段落，每个项目下的段落都必须缩进4个空格或是1个制表符，可以首行缩进，也可以为了美观而每行都缩进。
4. 如果要在列表项目内放进引用，那`>`就需要缩进。
5. 如果要放代码区块的话，该区块就需要缩进两次，也就是8个空格或是2个制表符。当
6. 在行首出现数字-句点-空白时，项目列表会错误地产生，此时需在句点前面加上反斜杠。

### 代码区块

和程序相关的写作或是标签语言原始码通常会有已经排版好的代码区块，通常这些区块需要照原来的样子显示，Markdown会用`<pre>`和`<code>`标签来把代码区块包起来。Markdown中建立代码区块需要缩进4个空格或是1个制表符。这个每行一阶的缩进（4个空格或是1个制表符），都会被移除。一个代码区块会一直持续到没有缩进的那一行（或是文件结尾）。在代码区块里面，‘&’、`<`和`>`会自动转成HTML实体，这样的方式让你非常容易使用Markdown插入范例用的HTML原始码，只需要复制贴上，再加上缩进就可以了。代码区块中，一般的Markdown语法不会被转换。

### 分隔线

在一行中用三个及以上的星号、减号、底线可以建立一个分隔线，行内不能有其他东西，也可以在星号或是减号中间插入空格。

## 区段元素

### 链接

Markdown支持两种形式的链接语法： 行内式和参考式。二者都是用[方括号]来标记。

#### 行内式

在方块括号后面紧接着圆括号并插入网址链接即可，如果还想要加上链接的标题文字，只要在网址后面，用双引号把标题文字包起来即可（仍置于圆括号内）。如果是要链接到同样主机的资源，可以使用相对路径。示例：`[an example](http://example.com/ "Title")`

#### 参考式

参考式的链接是在链接文字的括号后面再接上另一个方括号，而在第二个方括号里面要填入用以辨识链接的标记，也可以选择性地在两个方括号中间加上一个空格。示例：`[an example] [id]`。

接着，在文件的任意处，可以把这个标记的链接内容定义出来。链接内容定义的形式为：方括号（前面可以选择性地加上至多三个空格来缩进），里面输入链接文字 + 一个冒号 + 一个以上的空格或制表符 + 链接的网址 + 选择性地接着标题内容，可以用单引号、双引号或是括弧包着。示例：`[id]: http://example.com/  (Optional Title Here)`。

##### 参考式链接的注意事项

1. Markdown.pl 1.0.1会忽略单引号包起来的链接title。
2. 链接网址也可以用方括号包起来。若网址太长，为了美观，也可以把标题属性放到下一行，也可以加一些缩进。
3. 网址定义只有在产生链接的时候用到，并不会直接出现在文件之中。链接辨别标签可以有字母、数字、空白和标点符号，但是并不区分大小写。
4. 隐式链接标记功能让你可以省略指定链接标记，此时链接标记会视为等同于链接文字，要用隐式链接标记只要在链接文字后面加上一个空的方括号。由于链接文字可能包含空白，所以这种简化型的标记内也许包含多个单词。
5. 链接的定义可以放在文件中的任何一个地方，推荐直接放在链接出现段落的后面，或把它放在文件最后面，就像是注解一样。
6. 参考式的链接其实重点不在于它比较好写，而是它比较好读。参考式链接可以把一些标记相关的元数据移到段落文字之外，从而可以增加链接而不让文章的阅读感觉被打断。

### 强调

Markdown使用星号和底线作为标记强调字词的符号，被 * 或 - 包围的字词会被转成用`<em>`标签包围，用两个 * 或 - 包起来的话，则会被转成`<strong>`。使用强调时，用什么符号开启标签，就要用什么符号结束。强调也可以直接插在文字中间。但是如果 * 和 - 两边都有空白的话，它们就只会被当成普通的符号。如果要在文字前后直接插入普通的星号或底线，你可以在其之间加反斜线。

### 代码

如果要标记一小段行内代码，你可以用反引号把它包起来（`）。如果要在代码区段内插入反引号，可以用多个反引号来开启和结束代码区段。代码区段的起始和结束端都可以放入一个空白，起始端后面一个，结束端前面一个，这样就可以在区段的一开始就插入反引号。在代码区段内，&和<都会被自动地转成HTML实体，这使得插入HTML原始码变得很容易。

### 图片

Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： 行内式和参考式。
#### 行内式

一个惊叹号! + 一个方括号，里面放上图片的替代文字 + 一个普通括号，里面放上图片的网址 + 最后还可以用引号包住并加上选择性的标题文字。示例：`![Alt text](/path/to/img.jpg "Optional title")`。

#### 参考式

示例：`![Alt text][id]`。[id]是图片参考的名称，图片参考的定义方式则和链接参考一样：`[id]: url/to/image  "Optional title attribute"`。Markdown还没有办法指定图片的宽高，但可以使用普通的`<img>`标签。

## 其它

### 反斜杠

Markdown可以利用反斜杠来插入一些在语法中有其它意义的符号，例如：如果想要用星号加在文字旁边的方式来做出强调效果（但不用`<em>`标签），可以在星号的前面加上反斜杠。

Markdown支持以下这些符号前面加上反斜杠来帮助插入普通的符号：
	\	反斜线
	`	反引号
	*	星号
	-	底线
	{}	花括号
	[]	方括号
	()	括弧
	#	井字号
	+	加号
	-	减号
	.	英文句点
	!	惊叹号

### 自动链接

Markdown支持以比较简短的自动链接形式来处理网址和电子邮件信箱，只要是用尖括号（<>）包起来，Markdown就会自动把它转成链接。一般网址的链接文字就和链接地址一样。邮址的自动链接也很类似，只是Markdown会先做一个编码转换的过程，把文字字符转成16进位码的HTML实体，这样的格式可以糊弄一些不好的邮址收集机器人。在浏览器里面，这段字串（其实是`address@example.com`）会变成一个可以点击的`address@example.com`链接。这种做法虽然可以糊弄不少的机器人，但并不能全部挡下来。

## 待办事项

底线到底是-还是_？